<!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <title>Earth</title>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    
      <link rel="stylesheet" type="text/css" href="style.css" />
    </head>
    <body style="background-image: url('images/background.jpg'); background-size: cover; background-repeat: no-repeat;">
    <!-- <div style="width:100%; height:100%; background-image: url('images/background.jpg'); background-size: cover;"> -->

      <p>  <a href="center.html">menu</a> </p>
      <p>  <a href="circuit.html">circuit</a> </p>
      <p>  <a href="../left/earth.html">left earth</a> </p>

      <!-- user names, randomly positioned -->
      <p style="color:red;"id="mark1" class="mark">I was here</p>
      <p style="color:red;"id="mark2" class="mark">I was here</p>
      <p style="color:red;"id="mark3" class="mark">I was here</p>
      <p style="color:red;"id="mark4" class="mark">I was here</p>
      <p style="color:red;"id="mark5" class="mark">I was here</p>
      <p style="color:red;"id="mark6" class="mark">I was here</p>
      <p id="mark7" class="mark" onclick="location.href='heaven.html';">I wasn't here</p>

      <!-- <img src="images/deadFish.jpeg" width="300px" alt="deadFish" /> 
      <img src="images/23.gif" width="50px" alt="gif" />
      <img src="images/12.gif" width="50px" alt="gif" />
      <img src="images/8.gif" width="50px" alt="gif" />
      <img src="images/9.gif" width="50px" alt="gif" />
      <img src="images/10.gif" width="50px" alt="gif" />
      <img src="images/1.gif" width="50px" alt="gif" />
      <img src="images/2.gif" width="50px" alt="gif" />
      <img src="images/seagulll.gif" width="50px" alt="gif" />


      <img src="images/anibf.gif" width="500px" alt="gif" />
      <img src="images/copcar.gif" width="400px" alt="gif" />
      <img src="images/cybermanorpriest.png" width="400px" alt="gif" />
      <img src="images/water1m.gif" height="300px" alt="gif" /> -->

        <ul id="ad">
          <li><img src="images/ad/1.jpeg"></li>
          <li><img src="images/ad/2.jpeg"></li>
          <li><img src="images/ad/3.jpeg"></li>
          <li><img src="images/ad/4.jpeg"></li>
          <li><img src="images/ad/5.jpeg"></li>
          <li><img src="images/ad/6.jpeg"></li>
          <li><img src="images/ad/7.jpeg"></li>
          <li><img src="images/ad/8.jpeg"></li>
          <li><img src="images/ad/9.jpeg"></li>
          <li><img src="images/ad/10.jpeg"></li>
          <li><img src="images/ad/11.jpeg"></li>
          <li><img src="images/ad/13.jpeg"></li>
          <li><img src="images/ad/14.jpeg"></li>
          <li><img src="images/ad/15.jpeg"></li>
          <li><img src="images/ad/16.jpeg"></li>
          <li><img src="images/ad/18.jpeg"></li>
          <li><img src="images/ad/19.jpeg"></li>
        </ul> 
      <script>
      
      $(document).ready(function(){
        readNames();
        positionNames();
        displayAd();
      }); //DOCUMENT READY

      // DOCUMENT ON CLICK
      $(document).on('click','body *',function () {
        // user has interacted with page
        localStorage.setItem("earthCenter", "true");
        console.log(localStorage.earthCenter);
      });    

      //read the text file 
      function readNames(){
        
        $.get('php/save.txt',
        function(data) {
        let splitArray = data.split('\n');

        //remove any rogues
        let filtered = splitArray.filter(function(item){ return item!=="" });
        displayNames(filtered);
        },
        'text');
      };

      //display the most recent names
      function displayNames(parsedJSONArray){
        $("#mark1").text(parsedJSONArray.at(-1).split(":")[1] + " was here"); //most recent submission
        $("#mark2").text(parsedJSONArray.at(-2).split(":")[1] + " was here"); 
        $("#mark3").text(parsedJSONArray.at(-3).split(":")[1] + " was here"); 
        $("#mark4").text(parsedJSONArray.at(-4).split(":")[1] + " was here"); 
        $("#mark5").text(parsedJSONArray.at(-5).split(":")[1] + " was here"); 
        $("#mark6").text(parsedJSONArray.at(-6).split(":")[1] + " was here"); 
        $("#mark7").text(parsedJSONArray.at(-7).split(":")[1] + " wasn't here"); //7th most recent submission
      };

      //Randomly position the names
      function positionNames(){
        //rrandom position
        $('.mark').each(function(){
		     $(this).css({"left": Math.random() * window.outerWidth , "top": Math.random() * window.outerHeight})
        });

      }; //position names

      function displayAd(){
        $('#ad>li:gt(0)').hide();
        setInterval(function() {
          $('#ad > li:first')
          .fadeOut(1)
          .next()
          .fadeIn(1)
          .end()
          .appendTo('#ad');
         }, 2000);
      }; //displayAd
      </script>
    </body>
  </html>
