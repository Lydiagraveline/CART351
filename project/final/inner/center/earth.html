<!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <title>Earth</title>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script src="main.js"></script>
    
      <link rel="stylesheet" type="text/css" href="style.css" />
    </head>
    <body style="background-image: url('images/background.jpg'); background-size: 100% 100%; background-repeat: no-repeat;">
    <!-- <div style="width:100%; height:100%; background-image: url('images/background.jpg'); background-size: cover;"> -->
     
      <!-- thegrid -->
      <div class="container">
        <div class="one">
        </div>
        <div class="two">
          <!-- <p style="color:red;"id="mark1" class="mark">I was here</p> -->
        </div>
        <div class="three">
          <!-- link to menu -->
          <a href="center.html"><img class="clickable" src="images/29.gif" width="70px" alt="gif" style="display:block; margin: auto;"/></a>
        </div>
        <div class="four">
          <!-- adult ad -->
          <a href="../left/earth.html"><ul class="ad clickable" id="adult">
            <li><img src="images/adultAd/adult.gif"></li>
            <li><img src="images/adultAd/alt.gif"></li>
            <li><img src="images/adultAd/dating.gif"></li>
          </ul> </a>

        </div>
        <div class="five">
          <!-- online church ad -->
          <ul class="ad" id="church">
            <li><img src="images/onlineChurch/1.jpeg"></li>
            <li><img src="images/onlineChurch/2.jpeg"></li>
            <li><img src="images/onlineChurch/3.jpeg"></li>
            <li><img src="images/onlineChurch/4.jpeg"></li>
            <li><img src="images/onlineChurch/5.jpeg"></li>
            <li><img src="images/onlineChurch/6.jpeg"></li>
            <li><img src="images/onlineChurch/7.jpeg"></li>
            <li><img src="images/onlineChurch/8.jpeg"></li>
            <li><img src="images/onlineChurch/9.jpeg"></li>
            <li><img src="images/onlineChurch/10.jpeg"></li>
            <li><img src="images/onlineChurch/11.jpeg"></li>
            <li><img src="images/onlineChurch/13.jpeg"></li>
            <li><img src="images/onlineChurch/14.jpeg"></li>
            <li><img src="images/onlineChurch/15.jpeg"></li>
            <li><img src="images/onlineChurch/16.jpeg"></li>
            <li><img src="images/onlineChurch/18.jpeg"></li>
            <li><img src="images/onlineChurch/19.jpeg"></li>
          </ul> 

        </div>
        <div class="six"></div>
        <div class="seven"></div>
        <div class="eight">
          <a href="circuit.html"><img class="clickable" id="berry" src="images/strawberry.png" width="150px" style="display: block;margin: auto;"/></a>

        </div>
        <div class="nine"></div>
      </div>



      <!-- user names, randomly positioned -->
      <p id="mark1" class="mark">I was here</p>
      <p id="mark2" class="mark">I was here</p>
      <p id="mark3" class="mark">I was here</p>
      <p id="mark4" class="mark">I was here</p>
      <p id="mark5" class="mark">I was here</p>
      <p id="mark6" class="mark">I was here</p>
      <p id="mark7" class="mark clickable" onclick="location.href='heaven.html';">I wasn't here</p>

      <!-- <img src="images/deadFish.jpeg" width="300px" alt="deadFish" /> 
      <img src="images/23.gif" width="50px" alt="gif" />
      <img src="images/12.gif" width="50px" alt="gif" />
      <img src="images/8.gif" width="50px" alt="gif" />
      <img src="images/9.gif" width="50px" alt="gif" />
      <img src="images/10.gif" width="50px" alt="gif" />
      <img src="images/1.gif" width="50px" alt="gif" />
      <img src="images/2.gif" width="50px" alt="gif" />
      <img src="images/seagulll.gif" width="50px" alt="gif" />


      <img src="images/anibf.gif" width="500px" alt="gif" />
      <img src="images/copcar.gif" width="400px" alt="gif" />
      <img src="images/cybermanorpriest.png" width="400px" alt="gif" />
      <img src="images/water1m.gif" height="300px" alt="gif" /> -->






      <script>
      
      $(document).ready(function(){
        readNames();
        positionNames();
        displayAd('#adult');
        displayAd('#church');
      }); //DOCUMENT READY

      // DOCUMENT ON CLICK
      $(document).on('click','body *',function () {
        // user has interacted with page
        localStorage.setItem("earthCenter", "true");
        console.log(localStorage.earthCenter);
      });    

      //read the text file 
      function readNames(){
        
        $.get('php/save.txt',
        function(data) {
        let splitArray = data.split('\n');

        //remove any rogues
        let filtered = splitArray.filter(function(item){ return item!=="" });
        displayNames(filtered);
        },
        'text');
      };

      //display the most recent names
      function displayNames(parsedJSONArray){
        $("#mark1").text(parsedJSONArray.at(-1).split(":")[1] + " was here"); //most recent submission
        $("#mark2").text(parsedJSONArray.at(-2).split(":")[1] + " was here"); 
        $("#mark3").text(parsedJSONArray.at(-3).split(":")[1] + " was here"); 
        $("#mark4").text(parsedJSONArray.at(-4).split(":")[1] + " was here"); 
        $("#mark5").text(parsedJSONArray.at(-5).split(":")[1] + " was here"); 
        $("#mark6").text(parsedJSONArray.at(-6).split(":")[1] + " was here"); 
        $("#mark7").text(parsedJSONArray.at(-7).split(":")[1] + " wasn't here"); //7th most recent submission
      };

      //Randomly position the names
      function positionNames(){
        //rrandom position     
        $('.mark').each(function(){
		     $(this).css({"left": Math.random() * $(".container").width() - 50, "top": Math.random() * $(".container").height() - 50})
        
         //reposition rouges 
         if($(this).css("left") <= "10") {
          $(this).css( "left", "+=35" );
         }
         if ($(this).css("top") <= "10"){
          // $(this).css( "color", "white" );
          $(this).css( "left", "+=45" );
         }
        
        });

          //on mouse over
          $('.mark').on("mouseover", function () {
            //if it is NOT mark 7
            if ($(this).attr("id") !== "mark7") {
              $(this).css({"left": Math.random() * $(".container").width() - 50, "top": Math.random() * $(".container").height() - 50})
              if($(this).css("left") <= "10") {
          $(this).css( "left", "+=35" );
         }
         if ($(this).css("top") <= "10"){
          // $(this).css( "color", "white" );
          $(this).css( "left", "+=45" );
         }
            
            }
        });
      }; //position names

    //handle strawberry
    $('#berry').hover(function () {
      $(this).attr("src", "images/whiteberry.png");
    }, function() {
      $(this).attr("src", "images/strawberry.png");
    }
    ) 

      </script>
    </body>
  </html>
