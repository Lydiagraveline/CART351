<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Paradise</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="main.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <!-- <div>heaven checkbox: <br /><span id="heaven-check"></span></div>
    <div>descent checkbox: <br /><span id="descent-check"></span></div>
    <div>earth checkbox: <br /><span id="earth-check"></span></div> -->
    <div class="container">
      <!-- <h2>outer panel</h2> -->
      <div class="panel-container">
        <div class="panel" id="top" onclick="location.href='heaven.html';">
          <div class="wrapper"></div>
          Heaven
        </div>
        <div class="panel" id="middle" onclick="location.href='descent.html';">
          <div class="wrapper middle"></div>
          Descent of the divine
        </div>
        <div class="panel" id="bottom" onclick="location.href='earth.html';">
          <div class="wrapper bottom"></div>
          Earth
        </div>
      </div>
      <div
        id="newPanel"
        class="panel new"
        onclick="location.href='../center/center.html';"
      >
      <div class="wrapper"><p>Lose your inhibitions</p></div>
      
      </div>
    </div>

    <script>
      // // const heavenCheckBox = localStorage.getItem('heaven-check');
      // const heavenVal = localStorage.getItem("heavenValues");
      // const descentVal = localStorage.getItem("descentValues");
      // const earthVal = localStorage.getItem("earthValues");

      // // document.getElementById("heaven-check").textContent = heavenVal;
      // // document.getElementById("descent-check").textContent = descentVal;
      // // document.getElementById("earth-check").textContent = earthVal;

      $(document).ready(function () {

        handlePanelOpen();

       }); //document ready

      //check if user hads been to all 3 section, if so, open the new panel
       function handlePanelOpen(){
        let heaven = localStorage.getItem("heavenLeft");
        let descent = localStorage.getItem("descent");
        let earth = localStorage.getItem("earthLeft");

        console.log("user has...")
        console.log("been to heaven = " + heaven);
        console.log("descended = " + descent);
        console.log("been to earth = " + earth);

        if (heaven === "true" && descent === "true" && earth === "true"){
          $("#newPanel").show();
          console.log("open panel");
        } 
       else if (heaven === null || descent === null || earth === null){
          console.log("close panel");
          $("#newPanel").hide();
        }

       $("#newPanel").click(function(){
          // localStorage.clear();
          // $("#newPanel").hide();
        })
       } //handlePanelOpen
    </script>
  </body>
</html>
